#
# Schema definitions for IARC reported genes
#
Observed_Sequence:
    discriminator: AIRR
    description: Details of a directly observed or inferred sequence which contributes to the inference of a gene
    type: object
    occurrence: multiple
    properties:
        sequence_id:
            type: string
            description: IARC unique reference for this sequence observation
        sequence:
            type: IUPAC nucleotide notation
            description: Sequence of interest described in this record
        derivation: 
            type: [DNA, mRNA]
            description: Material from which the sequence was derived
        observation_type:
            type: string
            description: e.g. direct sequencing, inference from repertoire
        notes:
            type: text
            description: Notes added by IARC
        repository_name:
            type: string
            description: Name of the repository in which the sequence has been deposited
        repository_id:
            type: string
            description: Id or serial number of the sequence within the repository
        deposited_version:
            type: string
            description: Version number of the sequence within the repository
        seq_start:
            type: integer
            description: Start co-ordinate of the sequence of interest described in this record, within the sequence deposited
        seq_end:
            type: integer
            description: End co-ordinate of the sequence of interest described in this record, within the sequence deposited
        
Genomic_Sequence:
    discriminator: AIRR
    description: Details of a genomic sequence which contributes to the inference of a gene
    type: object
    occurrence: multiple
    properties:
        sequence_id:
            type: string
            description: IARC unique reference for this sequence observation
        sequence:
            type: nucleotide sequence
            description: Sequence of interest described in this record (typically this will include gene and propoter region)
        notes:
            type: text
            description: Notes added by IARC
        assembly_id:
            type: string
            description: Ensembl identifier of the genome in which this gene was inferred, including build ID (e.g. GRCh38)
        patch_no:
            type: string
            description: Genome assembly patch number in which this gene was inferred (e.g. p7)
        gff_seqid:
            type: string
            description: Germline sequence (from the genome) of a window including the gene and preferably also the promoter region
        gff_start:
            type: integer
            description: Genomic co-ordinates of the start of the sequence of interest described in this record, in Ensemble GFF version 3 
        gff_end:
            type: integer
            description: Genomic co-ordinates of the end of the sequence of interest described in this record, in Ensemble GFF version 3
        gff_strand:
            type: [+,-]
            description: 
    
GeneDescription:
    version: 1.4
    description: Details of a gene sequence which is inferred from one or more observations
    properties:
        description_id:
            type: string
            description: Unique identifier of this gene sequence
        author:
            type: string
            description: Curator of this sequence record
        lab_address:
            type: string
            description: Institution and full address of corresponding author
        release_version:
            type: integer
            description: Version number of this record, updated whenever a revised version is published or released
        release_date:
            type: date
            description: Date of this release
        release_description:
            type: text
            description: Brief descriptive notes of the reason for this release and the changes embodied
        imgt_name:
            type: string
            description: The name of this sequence as assigned by IMGT
        sequence_name:
            type: string
            description: The canonical name of this sequence as assigned by the curator
        alt_names:
            type: list of strings
            description: Alternative names for this sequence
            label: Alternative names
        locus:
            type: [IGH, IGK, IGL, TRA, TRB, TRG, TRD]
            description: Gene locus
        sequence_type:
            type: [V,D,J,CH1,CH2,CH3,CH4]
            description: Sequence type (V, D, J, CH1 ... CH4)
        functional:
            type: boolean
            description: Functional
        inference_type:
            type: [Genomic and Rearranged, Genomic Only, Rearranged Only]
            description: Type of inference(s) from which this gene sequence was inferred (Genomic and Rearranged, Genomic Only, Rearranged Only)
        organism:
            type: string
            description: Binomial designation of subject's species
        status:
            type: [published,draft,retired,withdrawn]
            description: Status of record
        gene_subgroup:
            type: string
            description: Gene subgroup (family), as (and if) identified for this species and gene
        subgroup_designation:
            type: string
            description: Gene designation within this subgroup
        allele_designation:
            type: string
            description: Allele designation
        sequence:
            type: IUPAC DOTTED
            description: nt sequence of the gene. This should cover the full length that is available, including where possible 5' UTR and lead-in for V-gene sequences
        coding_seq_imgt:
            type: IUPAC GAPPED
            description: nucleotide sequence of the coding region, aligned, in the case of a V-gene, with the IMGT numbering scheme
        codon_frame:
            type: [1,2,3]
            description: Codon position of the first sequence symbol in the Coding Sequence. Mandatory for J genes. Not used for V or D genes. ('1' means the sequence is in-frame, '2' means that the first bp is missing from the first codon, '3' means that the first 2 bp are missing)
        j_cdr3_end:
            type: integer
            description: In the case of a J-gene, the co-ordinate in the Coding Sequence of the first nucelotide of the conserved PHE or TRP (IMGT codon position 118)
        utr_5_prime_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of 5 prime UTR (V-genes only)
        utr_5_prime_end:
            type: integer
            description: End co-ordinate in the Full Sequence of 5 prime UTR (V-genes only)
        l_region_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of L region (V-genes only)
        l_region_end:
            type: integer
            description: End co-ordinate in the Full Sequence of L region (V-genes only)
        v_rs_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of V recombination site (V-genes only)
        v_rs_end:
            type: integer
            description: End co-ordinate in the Full Sequence of V recombination site (V-genes only)
        d_rs_3_prime_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of 3 prime D recombination site (D-genes only)
        d_rs_3_prime_end:
            type: integer
            description: End co-ordinate in the Full Sequence of 3 prime D recombination site (D-genes only)
        d_rs_5_prime_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of 5 prime D recombination site (D-genes only)
        d_rs_5_prime_end:
            type: integer
            description: End co-ordinate in the Full Sequence of 5 prime D recombination site (D-genes only)
        j_rs_start:
            type: integer
            description: Start co-ordinate in the Full Sequence of J recombination site (J-genes only)
        j_rs_end:
            type: integer
            description: End co-ordinate in the Full Sequence of J recombination site (J-genes only)
        paralogs:
            type: string
            description: Canonical names of 0 or more paralogs
        notes:
            type: text
            description: Notes

            
Gene_Delineation_V:
    discriminator: AIRR
    description: Delineation of a V-gene in a particular system
    type: object
    occurrence: multiple
    properties:
        sequence_name:
            type: string
            description: Canonical name of the gene to which this delineation applies
        gene_release_version:
            type: integer
            description: Version of the Gene Description to which this delineation applies
        delineation_scheme:
            type: string
            description: e.g. Kabat, IMGT, Chothia
        v_start:
            type: integer
            description: Co-ordinate of first V nucleotide in Gene Description 'sequence' field
        v_end:
            type: integer
            description: End co-ordinate of the V segment in Gene Description 'sequence' field
        fwr1_start:
            type: integer
            description: FWR1 start co-ordinate in Gene Description 'sequence' field
        fwr1_end:
            type: integer
            description: FWR1 end co-ordinate in Gene Description 'sequence' field
        cdr1_start:
            type: integer
            description: CDR1 start co-ordinate in Gene Description 'sequence' field
        cdr1_end:
            type: integer
            description: CDR1 end co-ordinate in Gene Description 'sequence' field
        fwr2_start:
            type: integer
            description: FWR2 start co-ordinate in Gene Description 'sequence' field
        fwr2_end:
            type: integer
            description: FWR2 end co-ordinate in Gene Description 'sequence' field
        cdr2_start:
            type: integer
            description: CDR2 start co-ordinate in Gene Description 'sequence' field
        cdr2_end:
            type: integer
            description: CDR2 end co-ordinate in Gene Description 'sequence' field
        fwr3_start:
            type: integer
            description: FWR3 start co-ordinate in Gene Description 'sequence' field
        fwr3_end:
            type: integer
            description: FWR3 end co-ordinate in Gene Description 'sequence' field
        cdr3_start:
            type: integer
            description: CDR3 start co-ordinate in Gene Description 'sequence' field
        alignment:
            type: list of integers
            description: one number for each codon in the fields v_start to cdr3_start indicating the number of that codon according to the numbering of the delineation scheme
            

Gene_Delineation_D:
    discriminator: AIRR
    description: Delineation of a D-gene in a particular system
    type: object
    occurrence: multiple
    properties:
        sequence_name:
            type: name
            description: Canonical name of the gene to which this delineation applies
        gene_release_version:
            type: integer
            description: Version of the Gene Description to which this delineation applies
        delineation_scheme:
            type: string
            description: e.g. Kabat, IMGT, Chothia
        d_start:
            type: integer
            description: Co-ordinate of first D nucleotide in Gene Description 'sequence' field
        d_end:
            type: integer
            description: End co-ordinate of the D segment in Gene Description 'sequence' field
             

Gene_Delineation_J:
    discriminator: AIRR
    description: Delineation of a J-gene in a particular system
    type: object
    occurrence: multiple
    properties:
        sequence_name:
            type: name
            description: Canonical name of the gene to which this delineation applies
        gene_release_version:
            type: integer
            description: Version of the Gene Description to which this delineation applies
        delineation_scheme:
            type: string
            description: e.g. Kabat, IMGT, Chothia
        j_start:
            type: integer
            description: Co-ordinate of first D nucleotide in Gene Description 'sequence' field
        j_end:
            type: integer
            description: End co-ordinate of the D segment in Gene Description 'sequence' field
        cdr3_end:
            type: integer
            description: End co-ordinate of the CDR3 in Gene Description 'sequence' field
 
 
Germline_Set:
    discriminator: AIRR
    description: Details of a 'germline set' bringing together multiple GeneDescriptions from the same strain or species
    type: object
    occurrence: multiple
    properties:
        author:
            type: name
            description: Corresponding author
        lab_name:
            type: string
            description: Department of corresponding author
        lab_address:
            type: string
            description: Institutional address of corresponding author
        release_version:
            type: number
            description: Version number of this record, allocated automatically
        release_description:
            type: string
            description: Brief descriptive notes of the reason for this release and the changes embodied
        release_date:
            type: date
            description: Date of this release
        germline_set_name:
            type: string
            description: descriptive name of this germline set
        pub_ids:
            type: list of PubMed ids
            description: Peer-reviewed publications describing this dataset
        organism:
            type: string
            description: Binomial designation of subject's species
        gene_descriptions:
            type: list
            description: list of one or more Gene_Description records
        notes:
            type: string
            description: 
  

Acknowledgements:
    discriminator: AIRR
    description: List of individuals whose contribution to this work should be acknowledged
    type: object
    occurrence: multiple
    properties:
        name:
            type: name
            description: Full name of individual
        institution_name:
            type: string
            description: Individual's department and institution name
        ORCID_id:
            type: ORCID ID
            description: Individual's ORCID Id, if available